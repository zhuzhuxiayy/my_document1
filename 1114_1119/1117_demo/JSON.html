<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>
	<!-- JSON:javascript对象表示法，不是javascript的一部分，使用来描述数据，常用语客户端和服务端的数据交互 -->

	<script>
		// 对象的新建
		var p1 = {
			name:'1602',
			age:30,
			study:function(){}
		};

		// JSON只是用来描述数据的，所以没有变量和函数的概念，只有一系列的键值对
		// JSON只能使用双引号 不能使用单引号，JSON中的key一定是用双引号括起来的字符串，
		// value的写法可以有以下形式：
		// 可以是字符串
		// 可以是数值
		// 可以是true or false
		// 可以是数组
		// 可以是其他对象
		// 可以是null
		// 不能是undefined

		// json对象
		var jsonObject = {
			"name":"1602",
			"age":30
		}

		// json对象可以是数组  用[]来表示 对象用{}来表示 他们可以相互嵌套
		var friendList = [
		{
			"name":"a",
			"age":30
		},
		{
			"name":"b",
			"age":40
		},{
			"name":"c",
			"age":50
		}];

		// 访问json对象
		for (var i = 0; i < friendList.length; i++) {
			var friend = friendList[i];
			console.log(friend['name']);
			console.log(friend['age']);
		}

		// 字符串和json对象之间如何转换
		// 使用全局对象
		// JSON.stringify:把json对象转成字符串
		// JSON.parse:把字符串转成json对象
		console.log(friendList);
		var string = JSON.stringify(friendList);
		console.log(string);


		// 把字符串转成json对象
		var friendList2 = JSON.parse(string);
		console.log(friendList2);

		// 在字符串和json对象之间的转换过程中，可以通过传递参数的方式，控制转换过程
		var book = {
			"author":"1602H5",
			"title":"javascript",
			"desc":"一本编程书籍",
			"version":1.0,
			"date":new Date()
		}
		var string1 = JSON.stringify(book,function(key,value){
			// 使用book中的每一个key和value调用函数，key不变，根据返回值来决定key对应的最终的value
			switch(key){
				case "author":
					return "1602";
				default:
					return value;
			}
		});
		console.log(string1);

		// 控制JSON字符串转成JSON对象的过程
		var bookObject = JSON.parse(string1,function(key,value){
			switch(key){
				case "date":
					return "2015年 10月 21日";
				case "version":
					return 2.0;
				default:
					return value;
			}
		});
		console.log(bookObject);
	</script>
</body>
</html>